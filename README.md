# いわゆる「運動神経」をどう説明するか : 主観的総合運動能力の要因解明と機械学習による予測
伊藤 奨, 曽我 啓史, 加藤 孝基

https://nanzan-u.repo.nii.ac.jp/records/2001614

## 概要
この研究では、主観的総合運動能力を予測するための機械学習モデルを構築します。LightGBMアルゴリズムを使用し、Optunaによるハイパーパラメータ最適化を行います。

## 特徴
- 多様な特徴量を用いた回帰モデル（性別、年齢、グリット、レジリエンス、内在的動機、スポーツ歴など）
- LightGBMによる予測
- Optunaを用いたハイパーパラメータ自動最適化
- 詳細な可視化機能（残差プロット、特徴量重要度など）
- 日本語対応のグラフ表示

## 必要な環境
- Python 3.7+
- 必要なライブラリは `requirements.txt` を参照

## 依存関係
```
pandas
numpy
matplotlib
seaborn
scikit-learn
lightgbm
optuna
japanize-matplotlib
scipy
openpyxl
```

## ファイル構成
```
motor_skills/
├── Gross_Motor_Skills_ML.py  # メインスクリプト
├── df_all_2.xlsx            # 入力データファイル（※別途準備が必要）
├── README.md                # このファイル

```

## 使用方法


###  データ準備
- データセットファイルを同じディレクトリに配置してください



## モデルの流れ

1. **データ前処理**
   - 参加同意者のデータのみ抽出
   - 特徴量選択
   - 欠損値削除

2. **データ分割**
   - 学習データ・テストデータ分割（7:3）
   - 学習データからさらに検証データを分割

3. **前処理**
   - カテゴリ変数のラベルエンコーディング
   - データ型の適切な変換

4. **ハイパーパラメータ最適化**
   - Optunaを使用した自動最適化
   - 200回の試行で最適なパラメータを探索

5. **モデル学習・評価**
   - 最適化されたパラメータでLightGBMモデルを学習
   - MAE（Mean Absolute Error）による評価

6. **可視化**
   - 学習履歴グラフ
   - 残差プロット
   - 特徴量重要度の表示

## 出力結果

### 評価指標
- MAE（平均絶対誤差）による予測精度評価

### 可視化ファイル
- `zansa.jpg`: 残差プロット
- `importtant.jpg`: 特徴量重要度グラフ

### コンソール出力
- ハイパーパラメータ最適化結果
- 最終的な予測精度
- 特徴量重要度ランキング

## 注意事項

### データプライバシー
- 個人を特定できる情報は含まれていません
- 参加同意を得たデータのみを使用しています

### 技術的注意点
- このコードはJupyterノートブック環境での実行を想定しています
- `%matplotlib inline` は通常のPythonスクリプトでは不要です


## 連絡先
コードの修正点や間違いがありましたら下記の連絡先までご連絡ください。
様々なご意見をお待ちしております。
keishi.soga.b4@tohoku.ac.jp
